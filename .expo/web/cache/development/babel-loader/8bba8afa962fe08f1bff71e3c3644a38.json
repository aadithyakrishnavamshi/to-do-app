{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useEvent;\n\nvar _createEventHandle = _interopRequireDefault(require(\"../createEventHandle\"));\n\nvar _useLayoutEffect = _interopRequireDefault(require(\"../useLayoutEffect\"));\n\nvar _useStable = _interopRequireDefault(require(\"../useStable\"));\n\nfunction useEvent(event, options) {\n  var targetListeners = (0, _useStable.default)(function () {\n    return new Map();\n  });\n  var addListener = (0, _useStable.default)(function () {\n    var addEventListener = (0, _createEventHandle.default)(event, options);\n    return function (target, callback) {\n      var removeTargetListener = targetListeners.get(target);\n\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n\n      if (callback == null) {\n        targetListeners.delete(target);\n      }\n\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  (0, _useLayoutEffect.default)(function () {\n    return function () {\n      targetListeners.forEach(function (removeListener) {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, [targetListeners]);\n  return addListener;\n}","map":{"version":3,"names":["useEvent","event","options","targetListeners","useStable","Map","addListener","addEventListener","createEventHandle","target","callback","removeTargetListener","get","delete","removeEventListener","set","useLayoutEffect","forEach","removeListener","clear"],"sources":["C:/Users/adars/AdarshToDo/node_modules/react-native-web/dist/modules/useEvent/index.js"],"sourcesContent":["/**\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nimport createEventHandle from '../createEventHandle';\nimport useLayoutEffect from '../useLayoutEffect';\nimport useStable from '../useStable';\n\n/**\n * This can be used with any event type include custom events.\n *\n * const click = useEvent('click', options);\n * useEffect(() => {\n *   click.setListener(target, onClick);\n *   return () => click.clear();\n * }).\n */\nexport default function useEvent(event, options) {\n  var targetListeners = useStable(function () {\n    return new Map();\n  });\n  var addListener = useStable(function () {\n    var addEventListener = createEventHandle(event, options);\n    return function (target, callback) {\n      var removeTargetListener = targetListeners.get(target);\n\n      if (removeTargetListener != null) {\n        removeTargetListener();\n      }\n\n      if (callback == null) {\n        targetListeners.delete(target);\n      }\n\n      var removeEventListener = addEventListener(target, callback);\n      targetListeners.set(target, removeEventListener);\n      return removeEventListener;\n    };\n  });\n  useLayoutEffect(function () {\n    return function () {\n      targetListeners.forEach(function (removeListener) {\n        removeListener();\n      });\n      targetListeners.clear();\n    };\n  }, [targetListeners]);\n  return addListener;\n}"],"mappings":";;;;;;;AAQA;;AACA;;AACA;;AAWe,SAASA,QAAT,CAAkBC,KAAlB,EAAyBC,OAAzB,EAAkC;EAC/C,IAAIC,eAAe,GAAG,IAAAC,kBAAA,EAAU,YAAY;IAC1C,OAAO,IAAIC,GAAJ,EAAP;EACD,CAFqB,CAAtB;EAGA,IAAIC,WAAW,GAAG,IAAAF,kBAAA,EAAU,YAAY;IACtC,IAAIG,gBAAgB,GAAG,IAAAC,0BAAA,EAAkBP,KAAlB,EAAyBC,OAAzB,CAAvB;IACA,OAAO,UAAUO,MAAV,EAAkBC,QAAlB,EAA4B;MACjC,IAAIC,oBAAoB,GAAGR,eAAe,CAACS,GAAhB,CAAoBH,MAApB,CAA3B;;MAEA,IAAIE,oBAAoB,IAAI,IAA5B,EAAkC;QAChCA,oBAAoB;MACrB;;MAED,IAAID,QAAQ,IAAI,IAAhB,EAAsB;QACpBP,eAAe,CAACU,MAAhB,CAAuBJ,MAAvB;MACD;;MAED,IAAIK,mBAAmB,GAAGP,gBAAgB,CAACE,MAAD,EAASC,QAAT,CAA1C;MACAP,eAAe,CAACY,GAAhB,CAAoBN,MAApB,EAA4BK,mBAA5B;MACA,OAAOA,mBAAP;IACD,CAdD;EAeD,CAjBiB,CAAlB;EAkBA,IAAAE,wBAAA,EAAgB,YAAY;IAC1B,OAAO,YAAY;MACjBb,eAAe,CAACc,OAAhB,CAAwB,UAAUC,cAAV,EAA0B;QAChDA,cAAc;MACf,CAFD;MAGAf,eAAe,CAACgB,KAAhB;IACD,CALD;EAMD,CAPD,EAOG,CAAChB,eAAD,CAPH;EAQA,OAAOG,WAAP;AACD"},"metadata":{},"sourceType":"script"}